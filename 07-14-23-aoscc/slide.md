# 用爱发电见闻录

从纯爱好项目开发及维护引发的思考

black_desk 2024.07.14

---

## Overview

- 自我介绍
- 预防针
- 动机
- 技术选型
- 前向兼容
- 开发规范
- 测试先行
- 多想多看少动手

---

## 自我介绍

- https://oier.baoshuo.dev/oier/15583
- [cgtproxy](https://github.com/black-desk/cgtproxy)
- [fcitx5-ui.nvim](https://github.com/black-desk/fcitx5-ui.nvim)
- 贡献过一些奇奇怪怪的项目
  <!-- kernel cmake neovim runc pandoc -->

---

## 预防针

- 以用户态为主
- 兴趣驱动

---

## 动机

- 解决自己遇到的问题
- 积累经验
- 获得成就感

---

## 技术选型

- 语言和生态
- 时间估算
- 造轮子？
- 库的质量
  - 用户数量
  - 文档！
  - 接口风格

---

## 开发规范

- 警告

  <!-- 配linter -->

- 编码习惯

  <!-- 代码应该怎么写 -->

- 设计模式

  https://github.com/black-desk/cgtproxy/commit/6d51df8c9f9927d2533b80d020fc58f37f099f31

  <!-- 代码应该放在哪个函数里 -->
  <!-- 函数应该放在哪个类里 -->
  <!-- 类之间怎么相互依赖 -->

- 物理结构

  https://book.douban.com/subject/36600646/

  <!-- 代码的物理结构很重要 -->
  <!-- 类应该放在哪个包里 -->
  <!-- 包应该放在哪个目录里 -->
  <!-- 目录结构尽可能和语言上的机制对应 -->

---

## 测试驱动

- 软件的价值

  <!-- 价值是软件的行为，能解决的问题 -->

- 可测试性
  
  <!-- 可测试性是软件质量的重要指标 -->
  <!-- 1. 正确性有基础保证 -->
  <!-- 2. 有重构空间 -->
  <!-- 3. 解耦 -->

- 开发效率

  <!-- 实际上开发效率是更高的 -->

---

## 多想多看少动手

- 非最佳实践大概率可以工作
- 先找现有方案
- Why/How

---

Thanks
